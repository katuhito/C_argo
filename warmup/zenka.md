## 漸化式

### ${}_n C_rを求める$

$n$個の中から$r$個を選ぶ組み合わせの数${}_n C_r$を求める。

例えば、$a, b, c$という3個の中から2個選ぶ組み合わせは、$ab, ac, bc$の3通りある。一般的に、n個の中からr個を選ぶ組み合わせを${}_n C_r$と示して、次式で定義される。
なお、$n!$は$n\cdot(n-1)\cdot(n-2)…2\cdot1$という値であり、CはCombinationの頭文字をとっている。

$$
{}_n C_r=\frac{n!}{r!(n-r)!}
$$

この式で、このまま計算した場合には、大きな$n$の値に対して$n!$でオーバーフローする危険性がある。

例えば、

$$
{}_{10} C_5=\frac{10!}{5!\cdot5!}=\frac{3628800}{120\cdot120}=252
$$

というふうに、計算結果はオーバーフローしない値であるが、int型なら$10!$の計算値でオーバーフローしてしまう。

${}_n C_r$は

$$
{}_n C_r=\frac{n-r+1}{r}{}_n C_{r-1}(漸化式)
$$
$$
{}_n C_0=1(0次の値)
$$
という漸化式を用いて表現することもできる。

漸化式とは、自分自身$({}_n C_r)$を定義するのに、1次低い自分自身$({}_n C_{r-1})$を用いて表し、0次$({}_n C_0)$はある値に定義されているというものである。

このような漸化式をプログラムにする場合には、繰り返しまたは再帰呼び出しを用いて表現することができる。

ここでは、繰り返しを用いて表現する。漸化式を繰り返して表現する場合、0次の値を初期値とし、それに係数$((n-r+1)/r)$で$r$の値を1から始め、繰り返しのたびに$+1$しながら順次かけ合わせていけばよい。

$
{}_n C_r=1\cdot\frac{n-1+1}{1}\cdot\frac{n-2+1}{2}\cdot\frac{n-3+1}{3}...\frac{n-r+1}{r}
$

$
{}_n C_0=1
$

$
{}_n C_1=1\cdot\frac{n-1+1}{1}
$

$
{}_n C_2=1\cdot\frac{n-1+1}{1}\cdot\frac{n-2+1}{2}
$

この方法であれば、nの値がかなり大きくてもオーバーフローしなくなる。

- argo001.c


